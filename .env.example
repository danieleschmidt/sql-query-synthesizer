# SQL Synthesizer Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database connection URL
# Examples:
#   PostgreSQL: postgresql://user:password@localhost:5432/database
#   MySQL: mysql://user:password@localhost:3306/database
#   SQLite: sqlite:///./database.db
DATABASE_URL=sqlite:///./example.db

# Database connection pool settings
QUERY_AGENT_DB_POOL_SIZE=10
QUERY_AGENT_DB_MAX_OVERFLOW=20
QUERY_AGENT_DB_POOL_RECYCLE=3600
QUERY_AGENT_DB_POOL_PRE_PING=true
QUERY_AGENT_DB_CONNECT_RETRIES=3
QUERY_AGENT_DB_RETRY_DELAY=1.0
QUERY_AGENT_DATABASE_TIMEOUT=30

# =============================================================================
# LLM/AI CONFIGURATION
# =============================================================================

# OpenAI API configuration
OPENAI_API_KEY=your_openai_api_key_here
QUERY_AGENT_OPENAI_MODEL=gpt-3.5-turbo
QUERY_AGENT_OPENAI_TIMEOUT=30

# Circuit breaker configuration for LLM provider resilience
QUERY_AGENT_CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
QUERY_AGENT_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60.0

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Cache backend: memory, redis, or memcached
QUERY_AGENT_CACHE_BACKEND=memory
QUERY_AGENT_CACHE_TTL=3600
QUERY_AGENT_SCHEMA_CACHE_TTL=7200
QUERY_AGENT_CACHE_CLEANUP_INTERVAL=300

# Memory cache configuration
QUERY_AGENT_CACHE_MAX_SIZE=1000

# Redis cache configuration (if using redis backend)
QUERY_AGENT_REDIS_HOST=localhost
QUERY_AGENT_REDIS_PORT=6379
QUERY_AGENT_REDIS_DB=0
QUERY_AGENT_REDIS_PASSWORD=

# Memcached configuration (if using memcached backend)
QUERY_AGENT_MEMCACHED_SERVERS=localhost:11211

# =============================================================================
# WEB APPLICATION CONFIGURATION
# =============================================================================

# Flask web server settings
QUERY_AGENT_WEBAPP_PORT=5000
QUERY_AGENT_WEBAPP_INPUT_SIZE=60
QUERY_AGENT_MAX_QUESTION_LENGTH=1000
QUERY_AGENT_DEFAULT_MAX_ROWS=5
QUERY_AGENT_DEFAULT_PAGE_SIZE=10
QUERY_AGENT_MAX_PAGE_SIZE=1000
QUERY_AGENT_MAX_REQUEST_SIZE_MB=1

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Flask security settings
QUERY_AGENT_SECRET_KEY=change_this_to_a_secure_random_string_in_production
QUERY_AGENT_CSRF_ENABLED=true
QUERY_AGENT_ENABLE_HSTS=false

# API security
QUERY_AGENT_API_KEY_REQUIRED=false
QUERY_AGENT_API_KEY=your_api_key_here
QUERY_AGENT_RATE_LIMIT_PER_MINUTE=60

# SQL injection prevention
QUERY_AGENT_USE_ENHANCED_SQL_VALIDATION=true

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus metrics configuration
QUERY_AGENT_OPENAI_REQUEST_BUCKETS=0.1,0.5,1.0,2.5,5.0,10.0
QUERY_AGENT_DATABASE_QUERY_BUCKETS=0.01,0.05,0.1,0.5,1.0,2.5,5.0
QUERY_AGENT_CACHE_OPERATION_BUCKETS=0.001,0.005,0.01,0.05,0.1,0.5

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Configuration file and environment overrides
QUERY_AGENT_CONFIG=config/databases.yaml
QUERY_AGENT_ENV=development

# Python environment settings
PYTHONPATH=.
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1

# Flask development settings
FLASK_ENV=development
FLASK_DEBUG=true

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# For production deployments, override the following:

# Security (REQUIRED in production)
# QUERY_AGENT_SECRET_KEY=cryptographically_secure_random_key_here
# QUERY_AGENT_CSRF_ENABLED=true
# QUERY_AGENT_ENABLE_HSTS=true
# QUERY_AGENT_API_KEY_REQUIRED=true
# QUERY_AGENT_API_KEY=secure_api_key_here

# Performance
# QUERY_AGENT_CACHE_BACKEND=redis
# QUERY_AGENT_REDIS_HOST=redis.example.com
# QUERY_AGENT_DB_POOL_SIZE=20

# Monitoring
# QUERY_AGENT_RATE_LIMIT_PER_MINUTE=30

# Flask production settings
# FLASK_ENV=production
# FLASK_DEBUG=false